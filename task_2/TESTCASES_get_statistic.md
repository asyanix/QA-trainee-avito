# Тест-кейсы API. GET 

### Получить статистику по айтем id



### Тест-кейс 1: Позитивный, 200 OK.

**Описание**: Попытка получить статистику объявления по корректному, существующему идентификатору.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json со статистикой об объявлении.

**Тестовые данные**:

Параметры в случае`GET`передаются в URL. 

| Key | Value                                              | Description              | Required |
| --- | -------------------------------------------------- | ------------------------ | -------- |
| id  | \<string>&#xA;ee4d0c6a-1606-4573-af8f-11c3485a62e4 | Идентификатор объявления | Yes      |

| Шаг                                                                         | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Статус прохождения  |
| --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Passed              |
| 2. Проверить код состояния                                                  | HTTP Status: 200 OK                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Passed              |
| 3. Проверить тело ответа от сервера                                         | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;\[&#xA;  {&#xA;    "likes": 0,&#xA;    "viewCount": 0,&#xA;    "contacts": 0&#xA;  }&#xA;]                                                                                                                                                                                                                                                                                                                                                                       | Passed              |
| 4. Проверить структуру ответа                                               | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;{&#xA;    "likes": 0,&#xA;    "viewCount": 0,&#xA;    "contacts": 0&#xA;}&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;\[&#xA;    {&#xA;        "contacts": 15,&#xA;        "likes": 440,&#xA;        "viewCount": 1440&#xA;    }&#xA;]&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;{&#xA;    likes: number,&#xA;    viewContact: number,&#xA;    contact: number&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                               | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:11:05 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 47&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-Frame-Options: SAMEORIGIN&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                       | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 2: Негативный, неверный по формату идентификатор.

**Описание**: Попытка получить статистику объявления по идентификатору, не соответствующему формату.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае`GET`передаются в URL. 

| Key | Value | Description              | Required |
| --- | ----- | ------------------------ | -------- |
| id  |       | Идентификатор объявления | Yes      |

| Шаг                                                                         | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Статус прохождения  |
| --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 2. Проверить код состояния                                                  | HTTP Status: 400 Bad Request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Passed              |
| 3. Проверить тело ответа от сервера                                         | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "result": {&#xA;    "message": "string",&#xA;    "messages": {}&#xA;  },&#xA;  "status": "string"&#xA;}                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 4. Проверить структуру ответа                                               | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;"result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    }&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;{&#xA;    "result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    },&#xA;    "status": "400"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;result: object {&#xA;        message: string,&#xA;        messages: object&#xA;    },&#xA;  status: string&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                               | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:12:58 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 142&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                                                                                                                                                                                   | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 3: Негативный, использование недопустимого метода.

**Описание**: Попытка получить статистику объявления по его идентификатору недопустимым методом. Используем вместо `GET` - `OPTIONS`.   

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 405 Method Not Allowed; операция завершилась.

**Тестовые данные**:

Параметры в случае `OPTIONS` передаются в URL. 

| Key | Value                                              | Description              | Required |
| --- | -------------------------------------------------- | ------------------------ | -------- |
| id  | \<string>&#xA;ee4d0c6a-1606-4573-af8f-11c3485a62e4 | Идентификатор объявления | Yes      |

| Шаг                                                                             | Ожидаемый результат                                                                                                                                                                                                       | Статус прохождения  |
| ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить OPTIONS запрос https://qa-internship.avito.com/api/1/statistic/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                       | Passed              |
| 2. Проверить код состояния                                                      | HTTP Status: 405 Method Not Allowed                                                                                                                                                                                       | Passed              |
| 3. Проверить тело ответа от сервера                                             | Тело ответа в формате JSON возвращается от сервера и будет пустым.                                                                                                                                                        | Passed              |
| 4. Проверить заголовки ответа                                                   | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:14:40 GMT&#xA;Content-Length: 0&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;allow: GET&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 4: Негативный, нулевое значение id.

**Описание**: Попытка получить статистику объявления без идентификатора. 

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request, операция завершилась.

**Тестовые данные**:

Параметры в случае `GET` передаются в URL. 

| Key | Value | Description              | Required |
| --- | ----- | ------------------------ | -------- |
| id  | NULL  | Идентификатор объявления | Yes      |

| Шаг                                                                              | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Статус прохождения  |
| -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/item/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 2. Проверить код состояния                                                       | HTTP Status: 400 Bad Request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Passed              |
| 3. Проверить тело ответа от сервера                                              | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "result": {&#xA;    "message": "string",&#xA;    "messages": {}&#xA;  },&#xA;  "status": "string"&#xA;}                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 4. Проверить структуру ответа                                                    | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;"result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    }&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;{&#xA;    "result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    },&#xA;    "status": "400"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;result: object {&#xA;        message: string,&#xA;        messages: object&#xA;    },&#xA;  status: string&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                                    | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:17:11 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 142&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                                                                                                                                                                                   | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 5: Негативный, id принимает значение "%00".

**Описание**: Попытка получить статистику объявления по идентификатору, принимающему значение `%00`— это null byte.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request, операция завершилась.

**Тестовые данные**:

Параметры в случае `GET` передаются в URL. 

| Key | Value             | Description              | Required |
| --- | ----------------- | ------------------------ | -------- |
| id  | \<string>&#xA;%00 | Идентификатор объявления | Yes      |

| Шаг                                                                              | Ожидаемый результат                                                                                                                                                                     | Статус прохождения  |
| -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/item/:id | Запрос успешно отправлен на сервер.                                                                                                                                                     | Passed              |
| 2. Проверить код состояния                                                       | HTTP Status: 400 Bad Request                                                                                                                                                            | Passed              |
| 3. Проверить тело ответа от сервера                                              | *Тело ответа согласно предусловиям должно было быть в формате JSON*, однако всегда возвращается в формате HTML и имеет следующий вид:&#xA;&#xA;\<html>&#xA;QRATOR HTTP 400&#xA;\</html> | Passed              |
| 4. Проверить структуру ответа                                                    | Структура HTML отображена корректно, есть открывающий и закрывающий тег:&#xA;\<html>&#xA;QRATOR HTTP 400&#xA;\</html>&#xA;&#xA;Вложенных тегов и структур нет.                          | Passed              |
| 5. Проверить заголовки ответа                                                    | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:19:52 GMT&#xA;Content-Type: text/html&#xA;Content-Length: 32&#xA;Connection: close&#xA;                                                    | Passed              |

Тест-кейс протестирован, в ходе анализа был обнаружен баг, присутствующий в swagger и postman-коллекции: GET-запрос с предусловием `Accept: application/json` и нулевым значением id, возвращает ответ не в формате JSON, а в формате HTML. 

***

###

### Тест-кейс 6: Негативный, несуществующий идентификатор.

**Описание**: Попытка получить статистику объявления по несуществующему идентификатору.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 404 Not Found; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае`GET`передаются в URL. 

| Key | Value                                              | Description              | Required |
| --- | -------------------------------------------------- | ------------------------ | -------- |
| id  | \<string>&#xA;ee4d0c6a-1606-4573-af8f-11c3485a62e2 | Идентификатор объявления | Yes      |

| Шаг                                                                              | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Статус прохождения  |
| -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/item/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 2. Проверить код состояния                                                       | HTTP Status: 404 Not Found                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Passed              |
| 3. Проверить тело ответа от сервера                                              | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "result": {&#xA;    "message": "string",&#xA;    "messages": {}&#xA;  },&#xA;  "status": "string"&#xA;}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 4. Проверить структуру ответа                                                    | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;"result": {&#xA;        "message": "item ee4d0c6a-1606-4573-af8f-11c3485a62e2 not found",&#xA;        "messages": null&#xA;    }&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;{&#xA;    "result": {&#xA;        "message": "item ee4d0c6a-1606-4573-af8f-11c3485a62e2 not found",&#xA;        "messages": null&#xA;    },&#xA;    "status": "404"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;result: object {&#xA;        message: string,&#xA;        messages: object&#xA;    },&#xA;  status: string&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                                    | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:22:24 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 108&#xA;Connection:keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 7: Позитивный, идентификатор без символов "-".

**Описание**: Попытка получить статистику объявления по идентификатору без символов "-".

**Приоритет**: Low

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json со статистикой об объявлении

**Тестовые данные**:

Параметры в случае`GET`передаются в URL. 

| Key | Value                                          | Description              | Required |
| --- | ---------------------------------------------- | ------------------------ | -------- |
| id  | \<string>&#xA;ee4d0c6a16064573af8f11c3485a62e4 | Идентификатор объявления | Yes      |

| Шаг                                                                         | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Статус прохождения  |
| --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Passed              |
| 2. Проверить код состояния                                                  | HTTP Status: 200 OK                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Passed              |
| 3. Проверить тело ответа от сервера                                         | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;\[&#xA;  {&#xA;    "likes": 0,&#xA;    "viewCount": 0,&#xA;    "contacts": 0&#xA;  }&#xA;]                                                                                                                                                                                                                                                                                                                                                                       | Passed              |
| 4. Проверить структуру ответа                                               | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;{&#xA;    "likes": 0,&#xA;    "viewCount": 0,&#xA;    "contacts": 0&#xA;}&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;\[&#xA;    {&#xA;        "contacts": 15,&#xA;        "likes": 440,&#xA;        "viewCount": 1440&#xA;    }&#xA;]&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;{&#xA;    likes: number,&#xA;    viewContact: number,&#xA;    contact: number&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                               | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:24:01 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 47&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-Frame-Options: SAMEORIGIN&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                       | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 8: Негативный, лишний пробел в идентификаторе.

**Описание**: Попытка получить статистику объявления по идентификатору с лишним пробелом (неважно в конце, в начале или в середине).

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json `

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае`GET`передаются в URL. 

| Key | Value                                               | Description              | Required |
| --- | --------------------------------------------------- | ------------------------ | -------- |
| id  | \<string>&#xA;ee4d0c6a-1606-4573-af8f-11c3485a62e4  | Идентификатор объявления | Yes      |

| Шаг                                                                              | Ожидаемый результат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Статус прохождения  |
| -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/statistic/item/:id | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 2. Проверить код состояния                                                       | HTTP Status: 400 Bad Request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Passed              |
| 3. Проверить тело ответа от сервера                                              | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "result": {&#xA;    "message": "string",&#xA;    "messages": {}&#xA;  },&#xA;  "status": "string"&#xA;}                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Passed              |
| 4. Проверить структуру ответа                                                    | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым, включая вложенные объекты:&#xA;"result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    }&#xA;&#xA;вложенная структура данных, содержащая объекты и массивы: &#xA;{&#xA;    "result": {&#xA;        "message": "передан некорректный идентификатор объявления",&#xA;        "messages": {}&#xA;    },&#xA;    "status": "400"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;result: object {&#xA;        message: string,&#xA;        messages: object&#xA;    },&#xA;  status: string&#xA;} | Passed              |
| 5. Проверить заголовки ответа                                                    | Server: QRATOR&#xA;Date: Sat, 15 Feb 2025 20:26:35 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 142&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff                                                                                                                                                                                                                                                                                                                                                                                                                                   | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



