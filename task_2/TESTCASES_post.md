# Тест-кейсы API. POST 

## Создать объявления



### Тест-кейс 1: Позитивный, 200 OK.

**Описание**: Попытка создать объявление с корректными данными.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json с сообщением об успешном сохранении и id товара.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

| Key      | Value     | Description            | Required |
| -------- | --------- | ---------------------- | -------- |
| sellerID | \<number> | Идентификатор продавца | No       |
| name     | \<string> | Название товара        | No       |
| price    | \<number> | Стоимость товара       | No       |

Тело JSON объекта:

```json
{
  "sellerID": 798132,
  "name": "Люстра",
  "price": 22000
}
```

| Шаг                                                                 | Ожидаемый результат                                                                                                                                                                                                                                                            | Статус прохождения  |
| ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| 1. Отправить POST запрос https://qa-internship.avito.com/api/1/item | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                            | Passed              |
| 2. Проверить код состояния                                          | HTTP Status: 200 OK                                                                                                                                                                                                                                                            | Passed              |
| 3. Проверить тело ответа от сервера                                 | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "status": "string"&#xA;}                                                                                                                                                           | Passed              |
| 4. Проверить структуру ответа                                       | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым: &#xA;{&#xA;    "status": "Сохранили объявление - ce2626ba-c86a-49fe-8823-47093a5cdd24"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;status: string     | Passed              |
| 5. Проверить заголовки ответа                                       | Server: QRATOR&#xA;Date: Sun, 16 Feb 2025 05:32:30 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 92&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-Frame-Options: SAMEORIGIN&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 2: Негативный, использование недопустимого метода.

**Описание**: Попытка создать объявление недопустимым методом. Используем вместо `POST` - `GET`.   

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 405 Method Not Allowed; операция завершилась.

**Тестовые данные**:

Параметры в случае `GET` передаются в URL. 

| Шаг                                                                | Ожидаемый результат                                                                                                                                                                                                        | Статус прохождения  |
| ------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1. Отправить GET запрос https://qa-internship.avito.com/api/1/item | Запрос успешно отправлен на сервер.                                                                                                                                                                                        | Passed              |
| 2. Проверить код состояния                                         | HTTP Status: 405 Method Not Allowed                                                                                                                                                                                        | Passed              |
| 3. Проверить тело ответа от сервера                                | Тело ответа в формате JSON возвращается от сервера и будет пустым.                                                                                                                                                         | Passed              |
| 4. Проверить заголовки ответа                                      | Server: QRATOR&#xA;Date: Sun, 16 Feb 2025 05:34:56 GMT&#xA;Content-Length: 0&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;allow: POST&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 3: Позитивный, создание объявления без индентификатора продавца.

**Описание**: Попытка создать объявление без идентификатора продавца.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json с сообщением об успешном сохранении и id товара.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

| Key      | Value     | Description            | Required |
| -------- | --------- | ---------------------- | -------- |
| sellerID | \<number> | Идентификатор продавца | No       |
| name     | \<string> | Название товара        | No       |
| price    | \<number> | Стоимость товара       | No       |

Тело JSON объекта:

```json
{
  "sellerID": null,
  "name": "Люстра",
  "price": 22000
}
```

| Шаг                                                                 | Ожидаемый результат                                                                                                                                                                                                                                                            | Статус прохождения  |
| ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| 1. Отправить POST запрос https://qa-internship.avito.com/api/1/item | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                            | Passed              |
| 2. Проверить код состояния                                          | HTTP Status: 200 OK                                                                                                                                                                                                                                                            | Passed              |
| 3. Проверить тело ответа от сервера                                 | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "status": "string"&#xA;}                                                                                                                                                           | Passed              |
| 4. Проверить структуру ответа                                       | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым: &#xA;{&#xA;    "status": "Сохранили объявление - 58a0c142-64ca-46d7-b1a1-7d628ff33cbb"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;status: string     | Passed              |
| 5. Проверить заголовки ответа                                       | Server: QRATOR&#xA;Date: Sun, 16 Feb 2025 05:51:47 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 92&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-Frame-Options: SAMEORIGIN&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 4: Позитивный, создание объявления без названия товара.

**Описание**: Попытка создать объявление без названия товара.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json с сообщением об успешном сохранении и id товара.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

| Key      | Value     | Description            | Required |
| -------- | --------- | ---------------------- | -------- |
| sellerID | \<number> | Идентификатор продавца | No       |
| name     | \<string> | Название товара        | No       |
| price    | \<number> | Стоимость товара       | No       |

Тело JSON объекта:

```json
{
  "sellerID": 764398,
  "name": null,
  "price": 22000
}
```

| Шаг                                                                 | Ожидаемый результат                                                                                                                                                                                                                                                            | Статус прохождения  |
| ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| 1. Отправить POST запрос https://qa-internship.avito.com/api/1/item | Запрос успешно отправлен на сервер.                                                                                                                                                                                                                                            | Passed              |
| 2. Проверить код состояния                                          | HTTP Status: 200 OK                                                                                                                                                                                                                                                            | Passed              |
| 3. Проверить тело ответа от сервера                                 | Тело ответа в формате JSON возвращается от сервера и будет иметь следующий вид:&#xA;{&#xA;  "status": "string"&#xA;}                                                                                                                                                           | Passed              |
| 4. Проверить структуру ответа                                       | Схема JSON отображена корректно, имена и типы полей соответствуют ожидаемым: &#xA;{&#xA;    "status": "Сохранили объявление - 23094c01-c82c-463f-9169-4a27e20879ff"&#xA;}&#xA;&#xA;значения полей соответствуют ожидаемым значениям из тестовых данных:&#xA;status: string     | Passed              |
| 5. Проверить заголовки ответа                                       | Server: QRATOR&#xA;Date: Sun, 16 Feb 2025 05:55:21 GMT&#xA;Content-Type: application/json&#xA;Content-Length: 92&#xA;Connection: keep-alive&#xA;Keep-Alive: timeout=15&#xA;X-Frame-Options: SAMEORIGIN&#xA;X-XSS-Protection: 1; mode=block&#xA;X-Content-Type-Options: nosniff | Passed              |

Тест-кейс успешно протестирован, багов не обнаружено. 

***


### Тест-кейс 5: Позитивный, создание объявления без стоимости товара.

**Описание**: Попытка создать объявление без стоимости товара.

**Приоритет**: High

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 200 OK; получили json с сообщением об успешном сохранении и id товара.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": 764398,
  "name": "Люстра",
  "price": null
}
```

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 6: Негативный, создание объявления c отрицательной стоимостью товара.

**Описание**: Попытка создать объявление c отрицательной стоимостью товара.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": 798132,
  "name": "Люстра",
  "price": -22000
}
```

Тест-кейс протестирован, в ходе анализа был обнаружен баг: успешно создается объявление с отрицательной ценой, что противоречит требованиям на такой вид данных.

***



### Тест-кейс 7: Негативный, создание объявления c не удовлетворяющим требованиям идентификатором продавца.

**Описание**: Попытка создать объявление c не удовлетворяющим требованиям идентификатором продавца.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

111111 ≤ sellerID ≤ 999999

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": -798132,
  "name": "Люстра",
  "price": 22000
}
```

Тест-кейс протестирован, в ходе анализа был обнаружен баг: по условию 111111 ≤ sellerID ≤ 999999, однако при значении 1 запрос был успешно обработан и успешно создается объявление.

***



### Тест-кейс 8: Негативный, создание объявления c не удовлетворяющим формату именем товара.

**Описание**: Попытка создать объявление c не удовлетворяющим формату именем товара.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": 798132,
  "name": 442323,
  "price": 22000
}
```

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 9: Негативный, создание объявления c не удовлетворяющим формату индентификатором продавца.

**Описание**: Попытка создать объявление c не удовлетворяющим формату индентификатором продавца.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": "798132",
  "name": "Люстра",
  "price": 22000
}
```

Тест-кейс успешно протестирован, багов не обнаружено. 

***



### Тест-кейс 10: Негативный, создание объявления c не удовлетворяющей формату стоимостью товара.

**Описание**: Попытка создать объявление c не удовлетворяющей формату стоимостью товара.

**Приоритет**: Medium

**Предусловия**: 

`Content-Type: application/json`

`Accept: application/json`

**Ожидаемый результат**: HTTP 400 Bad Request; получили json с сообщениями об ошибке.

**Тестовые данные**:

Параметры в случае `POST` передаются в теле запроса в JSON объекте. 

Тело JSON объекта:

```json
{
  "sellerID": 798132,
  "name": "Люстра",
  "price": "22000"
}
```

Тест-кейс успешно протестирован, багов не обнаружено. 

***


